{"version":3,"sources":["webpack:///./src/views/schoolList/schoolList.vue?8211","webpack:///./src/api/school.js","webpack:///./src/views/schoolList/schoolList.vue?f1b6","webpack:///src/views/schoolList/schoolList.vue","webpack:///./src/views/schoolList/schoolList.vue"],"names":["fetch","fetchobj","SchoolList","data","schoolList_schoolListvue_type_script_lang_js_","name","listLoading","dataList","inter","created","clearInterval","this","getList","setInter","beforeDestroy","methods","_this","then","response","_this2","setInterval","updateData","_this3","$message","message","type","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","on","click","_v","directives","rawName","value","expression","staticStyle","width","stripe","border","fit","highlight-current-row","label","prop","align","scopedSlots","_u","key","fn","scope","row","_s","mac","options","__file","__webpack_exports__"],"mappings":"uGAAA,ICCIA,YAAMC,EAASD,MAONE,EAAa,SAEVC,GACZ,OAAOH,EAAM,MAAO,qBAAsBG,IAHjCD,EAAa,SAMVC,GACZ,OAAOH,EAAM,MAAO,oBAAqBG,ICfkKC,GC4C/MC,KAAA,aACAF,KAFA,WAGA,OACAG,aAAA,EACAC,YACAC,MAAA,OAGAC,QATA,WAUAC,cAAAC,KAAAH,OACAG,KAAAC,UACAD,KAAAE,YAEAC,cAdA,WAeAJ,cAAAC,KAAAH,QAEAO,SACAH,QADA,WACA,IAAAI,EAAAL,KACAA,KAAAL,aAAA,EACMJ,IAANe,KAAA,SAAAC,GACAF,EAAAT,SAAAW,EAAAf,KACAa,EAAAV,aAAA,KAGAO,SARA,WAQA,IAAAM,EAAAR,KACAA,KAAAH,MAAAY,YAAA,WACAD,EAAAP,WACA,MAEAS,WAbA,WAaA,IAAAC,EAAAX,KACMT,IAANe,KAAA,SAAAC,GACAI,EAAAC,UACAC,QAAA,OACAC,KAAA,6BCtEAC,EAAgBC,OAAAC,EAAA,EAAAD,CACdvB,EJRF,WAA0B,IAAAyB,EAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,qBAA+BF,EAAA,aAAkBE,YAAA,cAAAC,OAAiCV,KAAA,UAAAW,KAAA,mBAA0CC,IAAKC,MAAAT,EAAAR,cAAwBQ,EAAAU,GAAA,cAAAV,EAAAU,GAAA,KAAAP,EAAA,YAAkDQ,aAAanC,KAAA,UAAAoC,QAAA,YAAAC,MAAAb,EAAA,YAAAc,WAAA,gBAAoFC,aAAeC,MAAA,QAAeV,OAAQhC,KAAA0B,EAAAtB,SAAAuC,QAAA,EAAAC,OAAA,GAAAC,IAAA,GAAAC,wBAAA,MAAmFjB,EAAA,mBAAwBG,OAAOe,MAAA,OAAAC,KAAA,aAAAC,MAAA,YAAqDvB,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAC,KAAA,UAAAC,MAAA,YAAkDvB,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAC,KAAA,SAAAC,MAAA,UAAgDC,YAAAxB,EAAAyB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAA,EAAAC,IAAA,OAAA1B,EAAA,UAAwCG,OAAOV,KAAA,aAAkBI,EAAAU,GAAA,QAAAP,EAAA,UAA8BG,OAAOV,KAAA,YAAiBI,EAAAU,GAAA,gBAAuBV,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAC,KAAA,KAAAC,MAAA,YAA6CvB,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,SAAAC,KAAA,WAAAC,MAAA,YAAqDvB,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,aAAAC,KAAA,iBAAAC,MAAA,YAA+DvB,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,QAAAC,KAAA,MAAAC,MAAA,UAA8CC,YAAAxB,EAAAyB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAzB,EAAA,UAAqBG,OAAOV,KAAA,UAAeI,EAAAU,GAAAV,EAAA8B,GAAAF,EAAAC,IAAAE,gBAAuC,YIW5gD,EACA,KACA,KACA,MAIAlC,EAAAmC,QAAAC,OAAA,iBACeC,EAAA,QAAArC","file":"static/js/Mcfq.71544359.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.updateData}},[_vm._v(\"更新学校\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"stripe\":true,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"学校名称\",\"prop\":\"schoolName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"学校地址\",\"prop\":\"address\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否在线\",\"prop\":\"status\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"在线\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"不在线\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"IP地址\",\"prop\":\"ip\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最后上报时间\",\"prop\":\"lastTime\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最后上报时间(毫秒)\",\"prop\":\"lastTimeMillis\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"mac地址\",\"prop\":\"mac\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.mac))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import fetchobj from '@/utils/fetch'\nlet fetch=fetchobj.fetch;\n/**\n * @description 学校列表相关接口\n * @function SchoolList\n * @param  {type} export const InspectionNotice {description}\n * @return {type} {description}\n */\nexport const SchoolList = {\n  // 获取所有的学校列表\n  getschoolList(data) {\n    return fetch('get', '/socket/statusList', data)\n  },\n  // 刷新学校\n  refreshSchool(data) {\n    return fetch('get', '/socket/updateMap', data)\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolList.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-refresh\" @click=\"updateData\">更新学校</el-button>\n    </div>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"dataList\"\n      :stripe=\"true\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column label=\"学校名称\" prop=\"schoolName\" align=\"center\" />\n      <el-table-column label=\"学校地址\" prop=\"address\" align=\"center\" />\n      <el-table-column label=\"是否在线\" prop=\"status\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.status\" type=\"success\">在线</el-tag>\n          <el-tag v-else type=\"danger\">不在线</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"IP地址\" prop=\"ip\" align=\"center\" />\n      <el-table-column label=\"最后上报时间\" prop=\"lastTime\" align=\"center\" />\n      <el-table-column label=\"最后上报时间(毫秒)\" prop=\"lastTimeMillis\" align=\"center\" />\n      <el-table-column label=\"mac地址\" prop=\"mac\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <!-- <i class=\"el-icon-share\"></i> -->\n          <el-tag type=\"info\">{{ scope.row.mac }}</el-tag>\n        </template>\n      </el-table-column>\n      <!-- <el-table-column :label=\"$t('table.status')\" class-name=\"status-col\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"scope.row.status | statusFilter\">{{ scope.row.status }}</el-tag>\n        </template>\n      </el-table-column> -->\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { SchoolList } from '@/api/school'\nexport default {\n  name: 'SchoolList',\n  data() {\n    return {\n      listLoading: false,\n      dataList: [],\n      inter: null\n    }\n  },\n  created() {\n    clearInterval(this.inter);\n    this.getList();\n    this.setInter();\n  },\n  beforeDestroy(){\n    clearInterval(this.inter);\n  },\n  methods: {\n    getList() {\n      this.listLoading = true\n      SchoolList.getschoolList().then(response => {\n        this.dataList = response.data\n        this.listLoading = false\n      })\n    },\n    setInter() {\n      this.inter = setInterval(() => {\n        this.getList()\n      }, 5000)\n    },\n    updateData() {\n      SchoolList.refreshSchool().then(response => {\n        this.$message({\n          message: '更新成功',\n          type: 'success'\n        })\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./schoolList.vue?vue&type=template&id=b0b69156&\"\nimport script from \"./schoolList.vue?vue&type=script&lang=js&\"\nexport * from \"./schoolList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"schoolList.vue\"\nexport default component.exports"],"sourceRoot":""}