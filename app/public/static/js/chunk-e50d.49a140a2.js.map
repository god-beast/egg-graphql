{"version":3,"sources":["webpack:///./src/api/transform.js","webpack:///./src/views/transform/rulesControl.vue?0b03","webpack:///./src/views/transform/rulesControl.vue?40b8","webpack:///src/views/transform/rulesControl.vue","webpack:///./src/views/transform/rulesControl.vue","webpack:///./src/views/transform/rulesControl.vue?aa79"],"names":["__webpack_require__","d","__webpack_exports__","Transform","fetch","fetchobj","uploadUrl","getuuid","data","getuuid1","getuuid2","getzip","getzip1","getzip2","getNodeList","putNodeList","deleteNodeList","createNodeList","getRules","putRules","deleteRules","createRules","transform_rulesControlvue_type_script_lang_js_","name","addShow","editData","nodeType","customLevel","customRules","customStatus","nodeId","listLoading","dataList","currentId","rules","required","message","trigger","serverList","options","sortlist","created","this","getList","getServer","methods","changeType","val","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","iterator","value","push","err","return","nodeName","id","concat","toConsumableArray_default","_this","transform","then","response","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_this2","updateData","row","submitUpload","_this3","$refs","ruleForm","validate","valid","extends_default","res","$message","type","cancelUpload","deleteData","_this4","$confirm","confirmButtonText","cancelButtonText","customId","catch","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","visible","width","close-on-click-modal","on","update:visible","$event","ref","model","label-width","label","prop","staticStyle","clearable","placeholder","callback","$$v","$set","expression","_v","rows","change","_l","item","key","slot","click","icon","directives","rawName","stripe","border","fit","highlight-current-row","align","scopedSlots","_u","fn","scope","_s","size","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_2_node_modules_sass_loader_lib_loader_js_ref_10_3_node_modules_vue_loader_lib_index_js_vue_loader_options_rulesControl_vue_vue_type_style_index_0_id_ecf6a6e6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n"],"mappings":"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","file":"static/js/chunk-e50d.49a140a2.js","sourcesContent":["import fetchobj from '@/utils/fetch'\nlet fetch = fetchobj.fetch;\n\nexport const Transform = {\n  uploadUrl: 'http://192.168.5.245:9015/XHDataCenter/api/v1/resource/upload/25/35',\n\n  getuuid(data) {\n    return fetch('get', 'http://xuehai.whytouch.com/wys.php', data)\n  },\n\n  getuuid1(data) {\n    return fetch('get', 'http://xuehai1.whytouch.com/wys.php', data)\n  },\n\n  getuuid2(data) {\n    return fetch('get', 'http://xuehai2.whytouch.com/wys.php', data)\n  },\n\n  getzip: 'http://xuehai.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=',\n\n  getzip1: 'http://xuehai1.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=',\n\n  getzip2: 'http://xuehai2.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=',\n\n  // 节点管理\n\n  // 获取节点\n  getNodeList(data) {\n    return fetch('get', '/api/v1/console/selectNode', data)\n  },\n  // 编辑节点\n  putNodeList(data) {\n    return fetch('post', '/api/v1/console/editNode', data)\n  },\n  // 删除节点\n  deleteNodeList(data) {\n    return fetch('delete', '/api/v1/console/delNode', data)\n  },\n  // 创建节点\n  createNodeList(data) {\n    return fetch('post', '/api/v1/console/addNode', data)\n  },\n\n  // 获取节点\n  getRules(data) {\n    return fetch('get', '/api/v1/console/selectCustom', data)\n  },\n  // 编辑节点\n  putRules(data) {\n    return fetch('post', '/api/v1/console/editCustom', data)\n  },\n  // 删除节点\n  deleteRules(data) {\n    return fetch('delete', '/api/v1/console/delCustom', data)\n  },\n  // 创建节点\n  createRules(data) {\n    return fetch('post', '/api/v1/console/addCustom', data)\n  },\n  \n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-dialog',{attrs:{\"title\":\"规则管理\",\"visible\":_vm.addShow,\"width\":\"700px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addShow=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.editData,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"自定义优先级\",\"prop\":\"customLevel\"}},[_c('el-input-number',{staticClass:\"dialog_pram\",staticStyle:{\"width\":\"150px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入自定义优先级\"},model:{value:(_vm.editData.customLevel),callback:function ($$v) {_vm.$set(_vm.editData, \"customLevel\", $$v)},expression:\"editData.customLevel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义优规则\",\"prop\":\"customRules\"}},[_c('el-input',{staticClass:\"dialog_pram\",attrs:{\"clearable\":\"\",\"placeholder\":\"请输入自定义规则\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.editData.customRules),callback:function ($$v) {_vm.$set(_vm.editData, \"customRules\", $$v)},expression:\"editData.customRules\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义转换类型\",\"prop\":\"nodeType\"}},[_c('el-radio-group',{on:{\"change\":_vm.changeType},model:{value:(_vm.editData.nodeType),callback:function ($$v) {_vm.$set(_vm.editData, \"nodeType\", $$v)},expression:\"editData.nodeType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"微演示\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"iSpring\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"SDK\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义转换服务器\",\"prop\":\"nodeId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.editData.nodeId),callback:function ($$v) {_vm.$set(_vm.editData, \"nodeId\", $$v)},expression:\"editData.nodeId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.nodeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义状态\",\"prop\":\"customStatus\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.editData.customStatus),callback:function ($$v) {_vm.$set(_vm.editData, \"customStatus\", $$v)},expression:\"editData.customStatus\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.editData.customStatus),callback:function ($$v) {_vm.$set(_vm.editData, \"customStatus\", $$v)},expression:\"editData.customStatus\"}},[_vm._v(\"禁用\")])],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"\"},on:{\"click\":_vm.cancelUpload}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"filter-container\"},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.updateData({nodeType:1,customStatus:1,customLevel:1})}}},[_vm._v(\"新增规则\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"stripe\":true,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"自定义优先级\",\"prop\":\"customLevel\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义规则\",\"prop\":\"customRules\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义转换类型\",\"prop\":\"nodeType\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.nodeType==1?'微演示':scope.row.nodeType==2?'iSpring':'SDK'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义转换服务器\",\"prop\":\"nodeName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义状态\",\"prop\":\"customStatus\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.customStatus==0?'warning':'success'}},[_vm._v(_vm._s(scope.row.customStatus==0?'禁用':'启用'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"150\",\"label\":\"操作\",\"prop\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.updateData(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.deleteData(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=script&lang=js&\"","<style lang=\"scss\" scoped>\n.dialog_pram {\n  margin-bottom: 10px;\n  display: block;\n}\n</style>\n\n<template>\n  <div class=\"app-container\">\n    <el-dialog title=\"规则管理\" :visible.sync=\"addShow\" width=\"700px\" :close-on-click-modal=\"false\">\n      <el-form ref=\"ruleForm\" :model=\"editData\" :rules=\"rules\" label-width=\"150px\">\n        <el-form-item label=\"自定义优先级\" prop=\"customLevel\">\n          <el-input-number\n            clearable\n            style=\"width:150px\"\n            class=\"dialog_pram\"\n            placeholder=\"请输入自定义优先级\"\n            v-model=\"editData.customLevel\"\n          />\n        </el-form-item>\n         <el-form-item label=\"自定义优规则\" prop=\"customRules\">\n          <el-input\n            clearable\n            class=\"dialog_pram\"\n            placeholder=\"请输入自定义规则\"\n            type=\"textarea\"\n            :rows=\"4\"\n            v-model=\"editData.customRules\"\n          />\n        </el-form-item>\n        <el-form-item label=\"自定义转换类型\" prop=\"nodeType\">\n          <el-radio-group v-model=\"editData.nodeType\" @change=\"changeType\">\n            <el-radio :label=\"1\">微演示</el-radio>\n            <el-radio :label=\"2\">iSpring</el-radio>\n            <el-radio :label=\"3\">SDK</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"自定义转换服务器\" prop=\"nodeId\">\n          <el-select v-model=\"editData.nodeId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.id\"\n              :label=\"item.nodeName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"自定义状态\" prop=\"customStatus\">\n          <el-radio v-model=\"editData.customStatus\" :label=\"1\">启用</el-radio>\n          <el-radio v-model=\"editData.customStatus\" :label=\"0\">禁用</el-radio>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button type=\"primary\" @click=\"submitUpload\">确定</el-button>\n        <el-button type @click=\"cancelUpload\">取消</el-button>\n      </span>\n    </el-dialog>\n    <div class=\"filter-container\">\n      <el-button\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-edit\"\n        @click=\"updateData({nodeType:1,customStatus:1,customLevel:1})\"\n      >新增规则</el-button>\n    </div>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"dataList\"\n      :stripe=\"true\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column label=\"自定义优先级\" prop=\"customLevel\" align=\"center\"/>\n      <el-table-column label=\"自定义规则\" prop=\"customRules\" align=\"center\"/>\n      <el-table-column label=\"自定义转换类型\" prop=\"nodeType\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"info\">{{scope.row.nodeType==1?'微演示':scope.row.nodeType==2?'iSpring':'SDK'}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"自定义转换服务器\" prop=\"nodeName\" align=\"center\"/>\n      <el-table-column label=\"自定义状态\" prop=\"customStatus\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row.customStatus==0?'warning':'success'\"\n          >{{ scope.row.customStatus==0?'禁用':'启用' }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"150\" label=\"操作\" prop align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"updateData(scope.row)\">修改</el-button>\n          <el-button type=\"warning\" size=\"mini\" @click=\"deleteData(scope.row.id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { Transform } from \"@/api/transform\";\nexport default {\n  name: \"nodeControl\",\n  data() {\n    return {\n      addShow: false, //是否显示弹出框\n      // 编辑参数\n      editData: {\n        nodeType: null,\n        customLevel: 1,\n        customRules:\"\",\n        customStatus: 0, //0禁用  1启用\n        nodeId: null //1微演示  2    3:sdk\n      },\n      listLoading: false,\n      dataList: [],\n      currentId: \"\",\n      rules: {\n        nodeType: [\n          { required: true, message: \"自定义转换类型\", trigger: \"change\" }\n        ],\n        customLevel: [\n          { required: true, message: \"自定义优先级\", trigger: \"change\" }\n        ],\n        customRules: [\n          { required: true, message: \"自定义规则\", trigger: \"change\" }\n        ],\n        customStatus: [\n          { required: true, message: \"自定义状态\", trigger: \"change\" }\n        ]\n      },\n      serverList: [],\n      options: [],\n      sortlist: []\n    };\n  },\n  created() {\n    this.getList();\n    this.getServer();\n  },\n  methods: {\n    changeType(val) {\n      this.editData.nodeId = null;\n      this.options = [];\n      for (const iterator of this.serverList) {\n        if (iterator.nodeType == val) {\n          this.options.push(iterator);\n        }\n      }\n      this.options=[{\n        nodeName:'无',\n        id:'0'\n      },...this.options]\n    },\n    /**\n     * @description 获取初始化数据\n     * @function getList\n     * @return {type} {description}\n     */\n    getList() {\n      this.listLoading = true;\n      Transform.getRules().then(response => {\n        this.dataList = response.data;\n        for (const iterator of this.dataList) {\n          this.sortlist.push(iterator.customLevel);\n        }\n        this.listLoading = false;\n      });\n    },\n    /**\n     * @description 获取服务器列表\n     * @function getServer\n     * @return {type} {description}\n     */\n    getServer() {\n      Transform.getNodeList().then(response => {\n        this.serverList = response.data;\n      });\n    },\n    /**\n     * @description 新增或者更新数据\n     * @function {updateData\n     * @return {type} {description}\n     */\n    updateData(row) {\n      this.changeType(row.nodeType);\n      this.currentId = row.id || null;\n      this.addShow = true;\n      this.editData = {\n        nodeType: row.nodeType-0,\n        customRules:row.customRules,\n        customLevel: row.customLevel-0,\n        customStatus: row.customStatus, //0禁用  1启用\n        nodeId: row.nodeId //1微演示  2    3:sdk\n      };\n    },\n    /**\n     * @function submitUpload\n     * @return {type} {description}\n     */\n    submitUpload() {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          if (!this.currentId) {\n            Transform.createRules(this.editData).then(res => {\n              this.$message({\n                type: \"success\",\n                message: \"成功新增\"\n              });\n              this.getList();\n              this.addShow = false;\n            });\n          } else {\n            Transform.putRules({\n              id: this.currentId,\n              ...this.editData\n            }).then(res => {\n              this.$message({\n                type: \"success\",\n                message: \"成功更新\"\n              });\n              this.getList();\n              this.addShow = false;\n            });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    cancelUpload() {\n      this.addShow = false;\n    },\n    /**\n     * @description 删除版本\n     * @function deleteData\n     * @return {type} {description}\n     */\n    deleteData(id) {\n      this.$confirm(\"确定删除该节点?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          Transform.deleteRules({\n            customId: id\n          }).then(res => {\n            this.$message({\n              type: \"success\",\n              message: \"成功删除\"\n            });\n            this.getList();\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n    }\n  }\n};\n</script>\n","import { render, staticRenderFns } from \"./rulesControl.vue?vue&type=template&id=ecf6a6e6&scoped=true&\"\nimport script from \"./rulesControl.vue?vue&type=script&lang=js&\"\nexport * from \"./rulesControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rulesControl.vue?vue&type=style&index=0&id=ecf6a6e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ecf6a6e6\",\n  null\n  \n)\n\ncomponent.options.__file = \"rulesControl.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-2!../../../node_modules/sass-loader/lib/loader.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=style&index=0&id=ecf6a6e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-2!../../../node_modules/sass-loader/lib/loader.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=style&index=0&id=ecf6a6e6&lang=scss&scoped=true&\""],"sourceRoot":""}