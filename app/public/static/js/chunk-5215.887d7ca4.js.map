{"version":3,"sources":["webpack:///./src/api/question.js","webpack:///./src/utils/scrollTo.js","webpack:///src/components/Pagination/index.vue","webpack:///./src/components/Pagination/index.vue?ea2f","webpack:///./src/components/Pagination/index.vue","webpack:///./src/components/Pagination/index.vue?6abf","webpack:///./src/components/Pagination/index.vue?48e0","webpack:///./src/views/question/questionList.vue?e74e","webpack:///./src/views/question/questionList.vue?dffa","webpack:///src/views/question/questionList.vue","webpack:///./src/views/question/questionList.vue"],"names":["__webpack_require__","d","__webpack_exports__","Question","fetch","fetchobj","create","data","get","delete","put","Math","easeInOutQuad","t","b","c","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","scrollTo","to","duration","start","document","documentElement","scrollTop","body","parentNode","change","currentTime","animateScroll","amount","move","components_Paginationvue_type_script_lang_js_","name","props","total","required","type","Number","page","default","limit","pageSizes","Array","layout","String","background","Boolean","autoScroll","hidden","computed","currentPage","this","set","val","$emit","pageSize","methods","handleSizeChange","handleCurrentChange","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","class","_b","attrs","current-page","page-size","on","update:currentPage","$event","update:pageSize","size-change","current-change","$attrs","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7d9f0a7c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","n","question_questionListvue_type_script_lang_js_","components","Pagination","listQuery","title","listLoading","created","getData","searchData","editData","id","$router","push","path","query","obj","_this","question","then","res","deleteData","_id","_this2","$confirm","confirmButtonText","cancelButtonText","$message","message","catch","staticStyle","width","placeholder","model","value","$$v","$set","expression","_v","icon","click","directives","rawName","border","fit","highlight-current-row","label","align","prop","scopedSlots","_u","key","fn","scope","_s","_f","row","createTime","status","class-name","size","update:page","update:limit","pagination"],"mappings":"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","file":"static/js/chunk-5215.887d7ca4.js","sourcesContent":["import fetchobj from '@/utils/fetch'\nlet fetch = fetchobj.fetch;\n\nexport const Question = {\n   \n  create(data) {\n    return fetch('post', '/question', data)\n  },\n\n  get(data) {\n    return fetch('get', '/question', data)\n  },\n\n  delete(data){\n    return fetch('delete', '/question', data)\n  },\n\n  put(data) {\n    return fetch('put', '/question', data)\n  },\n\n}\n","Math.easeInOutQuad = function(t, b, c, d) {\n  t /= d / 2\n  if (t < 1) {\n    return c / 2 * t * t + b\n  }\n  t--\n  return -c / 2 * (t * (t - 2) - 1) + b\n}\n\n// requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\nvar requestAnimFrame = (function() {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) { window.setTimeout(callback, 1000 / 60) }\n})()\n\n// because it's so fucking difficult to detect the scrolling element, just move them all\nfunction move(amount) {\n  document.documentElement.scrollTop = amount\n  document.body.parentNode.scrollTop = amount\n  document.body.scrollTop = amount\n}\n\nfunction position() {\n  return document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop\n}\n\nexport function scrollTo(to, duration, callback) {\n  const start = position()\n  const change = to - start\n  const increment = 20\n  let currentTime = 0\n  duration = (typeof (duration) === 'undefined') ? 500 : duration\n  var animateScroll = function() {\n    // increment the time\n    currentTime += increment\n    // find the value with the quadratic in-out easing function\n    var val = Math.easeInOutQuad(currentTime, start, change, duration)\n    // move the document.body\n    move(val)\n    // do the animation unless its over\n    if (currentTime < duration) {\n      requestAnimFrame(animateScroll)\n    } else {\n      if (callback && typeof (callback) === 'function') {\n        // the animation is done so lets callback\n        callback()\n      }\n    }\n  }\n  animateScroll()\n}\n","<template>\n  <div :class=\"{'hidden':hidden}\" class=\"pagination-container\">\n    <el-pagination\n      :background=\"background\"\n      :current-page.sync=\"currentPage\"\n      :page-size.sync=\"pageSize\"\n      :layout=\"layout\"\n      :total=\"total\"\n      v-bind=\"$attrs\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"/>\n  </div>\n</template>\n\n<script>\nimport { scrollTo } from '@/utils/scrollTo'\n\nexport default {\n  name: 'Pagination',\n  props: {\n    total: {\n      required: true,\n      type: Number\n    },\n    page: {\n      type: Number,\n      default: 1\n    },\n    limit: {\n      type: Number,\n      default: 20\n    },\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 20, 30, 50]\n      }\n    },\n    layout: {\n      type: String,\n      default: 'total, sizes, prev, pager, next, jumper'\n    },\n    background: {\n      type: Boolean,\n      default: true\n    },\n    autoScroll: {\n      type: Boolean,\n      default: true\n    },\n    hidden: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    currentPage: {\n      get() {\n        return this.page\n      },\n      set(val) {\n        this.$emit('update:page', val)\n      }\n    },\n    pageSize: {\n      get() {\n        return this.limit\n      },\n      set(val) {\n        this.$emit('update:limit', val)\n      }\n    }\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.$emit('pagination', { page: this.currentPage, limit: val })\n      if (this.autoScroll) {\n        scrollTo(0, 800)\n      }\n    },\n    handleCurrentChange(val) {\n      this.$emit('pagination', { page: val, limit: this.pageSize })\n      if (this.autoScroll) {\n        scrollTo(0, 800)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.pagination-container {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7d9f0a7c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7d9f0a7c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d9f0a7c\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination-container\",class:{'hidden':_vm.hidden}},[_c('el-pagination',_vm._b({attrs:{\"background\":_vm.background,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":_vm.layout,\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}},'el-pagination',_vm.$attrs,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7d9f0a7c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7d9f0a7c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"问卷名称\"},model:{value:(_vm.listQuery.title),callback:function ($$v) {_vm.$set(_vm.listQuery, \"title\", $$v)},expression:\"listQuery.title\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchData}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.data,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"问卷名称\",\"align\":\"center\",\"prop\":\"title\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"warning\"}},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"parseTime\")(scope.row.createTime,'{y}-{m}-{d}')))])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"问卷状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.status==0?'禁用状态':'启用状态'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"300\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.editData(scope.row._id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.deleteData(scope.row._id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total>10),expression:\"total>10\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.page,\"limit\":_vm.listQuery.limit},on:{\"update:page\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)},\"update:limit\":function($event){_vm.$set(_vm.listQuery, \"limit\", $event)},\"pagination\":_vm.getData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./questionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./questionList.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input\n        placeholder=\"问卷名称\"\n        v-model=\"listQuery.title\"\n        style=\"width: 200px;\"\n        class=\"filter-item\"\n      />\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"searchData\">搜索</el-button>\n    </div>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"data\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column label=\"问卷名称\" align=\"center\" prop=\"title\"/>\n      <el-table-column  align=\"center\" label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"warning\">\n              <i class=\"el-icon-time\"></i>\n              <span>{{ scope.row.createTime | parseTime('{y}-{m}-{d}') }}</span>\n            </el-tag>\n          </template>\n        </el-table-column>\n      <el-table-column label=\"问卷状态\" align=\"center\">\n        <template slot-scope=\"scope\">{{scope.row.status==0?'禁用状态':'启用状态'}}</template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"300\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"editData(scope.row._id)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteData(scope.row._id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total>10\"\n      :total=\"total\"\n      :page.sync=\"listQuery.page\"\n      :limit.sync=\"listQuery.limit\"\n      @pagination=\"getData\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Question } from \"@/api/question\";\nimport Pagination from \"@/components/Pagination\"; // Secondary package based on el-pagination\n\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      listQuery: {\n        title: null,\n        page: 1,\n        limit: 10\n      },\n      listLoading: false,\n      total: 0,\n      data: [],\n    };\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    /**\n     * @description 搜索数据\n     * @function searchData\n     * @return {type} {description}\n     */\n    searchData() {\n      this.listQuery.page = 1;\n      this.getData();\n    },\n    editData(id){\n        this.$router.push({\n            path:'/question/createQuestion',\n            query:{\n                id\n            }\n        })\n    },\n    /**\n     * @description 获取数据\n     * @function getData\n     * @return {type} {description}\n     */\n    getData(obj) {\n       if(obj){\n        this.listQuery.page=obj.page;\n        this.listQuery.limit=obj.limit;\n      }\n      this.listLoading=true;\n      Question.get(this.listQuery).then(res => {\n        this.data = res.data;\n        this.total=res.total;\n        this.listLoading=false;\n      });\n    },\n    /**\n     * @description 删除数据\n     * @function deleteData\n     * @return {type} {description}\n     */\n    deleteData(_id) {\n      this.$confirm(\"确定删除该问卷?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          Question.delete({\n            _id\n          }).then(res => {\n            this.$message({\n              type: \"success\",\n              message: \"成功删除\"\n            });\n            this.getData();\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n    },\n\n   \n  }\n};\n</script>\n","import { render, staticRenderFns } from \"./questionList.vue?vue&type=template&id=ebc9c122&\"\nimport script from \"./questionList.vue?vue&type=script&lang=js&\"\nexport * from \"./questionList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"questionList.vue\"\nexport default component.exports"],"sourceRoot":""}