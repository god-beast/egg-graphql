(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1569"],{RhA2:function(e,t,a){},f9MD:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("HB48").a.fetch,o={uploadUrl:"http://192.168.5.245:9015/XHDataCenter/api/v1/resource/upload/25/35",getuuid:function(e){return n("get","http://xuehai.whytouch.com/wys.php",e)},getuuid1:function(e){return n("get","http://xuehai1.whytouch.com/wys.php",e)},getuuid2:function(e){return n("get","http://xuehai2.whytouch.com/wys.php",e)},getzip:"http://xuehai.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=",getzip1:"http://xuehai1.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=",getzip2:"http://xuehai2.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=",getNodeList:function(e){return n("get","/api/v1/console/selectNode",e)},putNodeList:function(e){return n("post","/api/v1/console/editNode",e)},deleteNodeList:function(e){return n("delete","/api/v1/console/delNode",e)},createNodeList:function(e){return n("post","/api/v1/console/addNode",e)},getRules:function(e){return n("get","/api/v1/console/selectCustom",e)},putRules:function(e){return n("post","/api/v1/console/editCustom",e)},deleteRules:function(e){return n("delete","/api/v1/console/delCustom",e)},createRules:function(e){return n("post","/api/v1/console/addCustom",e)}}},iNT3:function(e,t,a){"use strict";a.r(t);var n=a("QbLZ"),o=a.n(n),i=a("f9MD"),d={name:"nodeControl",data:function(){return{addShow:!1,editData:{nodeAddress:"",nodeName:"",nodeStatus:0,nodeType:1,nodeWeight:0},listLoading:!1,dataList:[],currentId:"",rules:{nodeAddress:[{required:!0,message:"节点地址",trigger:"change"}],nodeName:[{required:!0,message:"节点名称",trigger:"change"}],nodeStatus:[{required:!0,message:"节点状态",trigger:"change"}],nodeType:[{required:!0,message:"节点类型",trigger:"change"}],nodeWeight:[{required:!0,message:"节点权重",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,i.a.getNodeList().then(function(t){e.dataList=t.data,e.listLoading=!1})},updateData:function(e){this.currentId=e.id||null,this.addShow=!0,this.editData={nodeAddress:e.nodeAddress,nodeName:e.nodeName,nodeStatus:e.nodeStatus,nodeType:e.nodeType,nodeWeight:e.nodeWeight}},submitUpload:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;e.currentId?i.a.putNodeList(o()({id:e.currentId},e.editData)).then(function(t){e.$message({type:"success",message:"成功更新"}),e.getList(),e.addShow=!1}):i.a.createNodeList(e.editData).then(function(t){e.$message({type:"success",message:"成功新增"}),e.getList(),e.addShow=!1})})},cancelUpload:function(){this.addShow=!1},deleteData:function(e){var t=this;this.$confirm("确定删除该节点?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.deleteNodeList({nodeId:e}).then(function(e){t.$message({type:"success",message:"成功删除"}),t.getList()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},s=(a("yruH"),a("KHd+")),l=Object(s.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-dialog",{attrs:{title:"节点管理",visible:e.addShow,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.addShow=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.editData,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"节点名称",prop:"nodeName"}},[a("el-input",{staticClass:"dialog_pram",attrs:{clearable:"",placeholder:"请输入节点名称"},model:{value:e.editData.nodeName,callback:function(t){e.$set(e.editData,"nodeName",t)},expression:"editData.nodeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点地址",prop:"nodeAddress"}},[a("el-input",{staticClass:"dialog_pram",attrs:{clearable:"",placeholder:"请输入节点地址"},model:{value:e.editData.nodeAddress,callback:function(t){e.$set(e.editData,"nodeAddress",t)},expression:"editData.nodeAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点状态",prop:"nodeType"}},[a("el-radio",{attrs:{label:1},model:{value:e.editData.nodeStatus,callback:function(t){e.$set(e.editData,"nodeStatus",t)},expression:"editData.nodeStatus"}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:0},model:{value:e.editData.nodeStatus,callback:function(t){e.$set(e.editData,"nodeStatus",t)},expression:"editData.nodeStatus"}},[e._v("禁用")])],1),e._v(" "),a("el-form-item",{attrs:{label:"节点类型",prop:"nodeType"}},[a("el-radio",{attrs:{label:1},model:{value:e.editData.nodeType,callback:function(t){e.$set(e.editData,"nodeType",t)},expression:"editData.nodeType"}},[e._v("微演示")]),e._v(" "),a("el-radio",{attrs:{label:2},model:{value:e.editData.nodeType,callback:function(t){e.$set(e.editData,"nodeType",t)},expression:"editData.nodeType"}},[e._v("iSpring")]),e._v(" "),a("el-radio",{attrs:{label:3},model:{value:e.editData.nodeType,callback:function(t){e.$set(e.editData,"nodeType",t)},expression:"editData.nodeType"}},[e._v("SDK")])],1),e._v(" "),a("el-form-item",{attrs:{label:"节点权重",prop:"nodeWeight"}},[a("el-input-number",{staticClass:"dialog_pram",attrs:{placeholder:"请输入节点权重"},model:{value:e.editData.nodeWeight,callback:function(t){e.$set(e.editData,"nodeWeight",t)},expression:"editData.nodeWeight"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:""},on:{click:e.cancelUpload}},[e._v("取消")])],1)],1),e._v(" "),a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.updateData({nodeWeight:0,nodeStatus:1,nodeType:1})}}},[e._v("新增节点")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,stripe:!0,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"节点名称",prop:"nodeName",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"节点地址",prop:"nodeAddress",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(t.row.nodeAddress))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"节点类型",prop:"nodeType",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(1==t.row.nodeType?"微演示":2==t.row.nodeType?"iSpring":"SDK")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"节点状态",prop:"nodeStatus",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0==t.row.nodeStatus?"warning":"success"}},[e._v(e._s(0==t.row.nodeStatus?"禁用":"启用"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"节点权重",prop:"nodeWeight",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"操作",prop:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.updateData(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.deleteData(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)},[],!1,null,"489828ff",null);l.options.__file="nodeControl.vue";t.default=l.exports},yruH:function(e,t,a){"use strict";var n=a("RhA2");a.n(n).a}}]);