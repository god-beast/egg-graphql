{"version":3,"sources":["webpack:///./src/views/transform/rulesControl.vue?be30","webpack:///./src/api/transform.js","webpack:///./src/views/transform/rulesControl.vue?8e83","webpack:///./src/views/transform/rulesControl.vue?40b8","webpack:///src/views/transform/rulesControl.vue","webpack:///./src/views/transform/rulesControl.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_2_node_modules_sass_loader_lib_loader_js_ref_10_3_node_modules_vue_loader_lib_index_js_vue_loader_options_rulesControl_vue_vue_type_style_index_0_id_7c470b60_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","d","__webpack_exports__","Transform","fetch","fetchobj","uploadUrl","getuuid","data","getuuid1","getuuid2","getzip","getzip1","getzip2","getNodeList","putNodeList","deleteNodeList","createNodeList","getRules","putRules","deleteRules","createRules","transform_rulesControlvue_type_script_lang_js_","name","addShow","editData","nodeType","customNo","customStatus","nodeId","listLoading","dataList","currentId","rules","required","message","trigger","serverList","options","sortlist","created","this","getList","getServer","methods","changeType","val","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","iterator","value","push","err","return","_this","transform","then","response","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_this2","updateData","row","id","length","submitUpload","_this3","$refs","ruleForm","validate","valid","extends_default","res","$message","type","cancelUpload","deleteData","_this4","$confirm","confirmButtonText","cancelButtonText","customId","catch","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","visible","width","close-on-click-modal","on","update:visible","$event","ref","model","label-width","label","prop","staticStyle","clearable","disabled","placeholder","callback","$$v","$set","expression","_v","change","_l","item","key","nodeName","slot","click","icon","directives","rawName","stripe","border","fit","highlight-current-row","align","scopedSlots","_u","fn","scope","_s","size","__file"],"mappings":"sGAAA,IAAAA,EAAAC,EAAA,QAAAA,EAAAC,EAAAF,GAAge,4DCAheC,EAAAE,EAAAC,EAAA,sBAAAC,IAAA,IACIC,EADJL,EAAA,QACYM,EAASD,MAERD,GACXG,UAAW,sEAEXC,QAHuB,SAGfC,GACN,OAAOJ,EAAM,MAAO,qCAAsCI,IAG5DC,SAPuB,SAOdD,GACP,OAAOJ,EAAM,MAAO,sCAAuCI,IAG7DE,SAXuB,SAWdF,GACP,OAAOJ,EAAM,MAAO,sCAAuCI,IAG7DG,OAAQ,wFAERC,QAAS,yFAETC,QAAS,yFAKTC,YAxBuB,SAwBXN,GACV,OAAOJ,EAAM,MAAO,6BAA8BI,IAGpDO,YA5BuB,SA4BXP,GACV,OAAOJ,EAAM,OAAQ,2BAA4BI,IAGnDQ,eAhCuB,SAgCRR,GACb,OAAOJ,EAAM,SAAU,0BAA2BI,IAGpDS,eApCuB,SAoCRT,GACb,OAAOJ,EAAM,OAAQ,0BAA2BI,IAIlDU,SAzCuB,SAyCdV,GACP,OAAOJ,EAAM,MAAO,+BAAgCI,IAGtDW,SA7CuB,SA6CdX,GACP,OAAOJ,EAAM,OAAQ,6BAA8BI,IAGrDY,YAjDuB,SAiDXZ,GACV,OAAOJ,EAAM,SAAU,4BAA6BI,IAGtDa,YArDuB,SAqDXb,GACV,OAAOJ,EAAM,OAAQ,4BAA6BI,+CCzDtD,0DCAiNc,GC6FjNC,KAAA,cACAf,KAFA,WAGA,OACAgB,SAAA,EAEAC,UACAC,SAAA,KACAC,SAAA,GACAC,aAAA,EACAC,OAAA,MAEAC,aAAA,EACAC,YACAC,UAAA,GACAC,OACAP,WACAQ,UAAA,EAAAC,QAAA,UAAAC,QAAA,WAEAT,WACAO,UAAA,EAAAC,QAAA,QAAAC,QAAA,WAEAR,eACAM,UAAA,EAAAC,QAAA,QAAAC,QAAA,YAGAC,cACAC,WACAC,cAGAC,QA/BA,WAgCAC,KAAAC,UACAD,KAAAE,aAEAC,SACAC,WADA,SACAC,GACAL,KAAAhB,SAAAI,OAAA,KACAY,KAAAH,WAFA,IAAAS,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAGA,QAAAC,EAAAC,EAAAC,IAAAZ,KAAAJ,cAAAU,GAAAI,EAAAC,EAAAE,QAAAC,MAAAR,GAAA,OAAAS,EAAAL,EAAAM,MACAD,EAAA9B,UAAAoB,GACAL,KAAAH,QAAAoB,KAAAF,IALA,MAAAG,GAAAX,GAAA,EAAAC,EAAAU,EAAA,aAAAZ,GAAAK,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAZ,EAAA,MAAAC,KAcAP,QAfA,WAeA,IAAAmB,EAAApB,KACAA,KAAAX,aAAA,EACMgC,EAAA,EAAN5C,WAAA6C,KAAA,SAAAC,GACAH,EAAA9B,SAAAiC,EAAAxD,KADA,IAAAyD,GAAA,EAAAC,GAAA,EAAAC,OAAAjB,EAAA,IAEA,QAAAkB,EAAAC,EAAAhB,IAAAQ,EAAA9B,YAAAkC,GAAAG,EAAAC,EAAAf,QAAAC,MAAAU,GAAA,OAAAT,EAAAY,EAAAX,MACAI,EAAAtB,SAAAmB,KAAAF,EAAA7B,WAHA,MAAAgC,GAAAO,GAAA,EAAAC,EAAAR,EAAA,aAAAM,GAAAI,EAAAT,QAAAS,EAAAT,SAAA,WAAAM,EAAA,MAAAC,GAKAN,EAAA/B,aAAA,KAQAa,UA9BA,WA8BA,IAAA2B,EAAA7B,KACMqB,EAAA,EAANhD,cAAAiD,KAAA,SAAAC,GACAM,EAAAjC,WAAA2B,EAAAxD,QAQA+D,WAxCA,SAwCAC,GACA/B,KAAAI,WAAA2B,EAAA9C,UACAe,KAAAT,UAAAwC,EAAAC,IAAA,KACAD,EAAA7C,SACA6C,EAAA7C,WACAc,KAAAF,SAAAmC,OAAA,EACAjC,KAAAF,SAAAE,KAAAF,SAAAmC,OAAA,KACA,GACAjC,KAAAjB,SAAA,EACAiB,KAAAhB,UACAC,SAAA8C,EAAA9C,SACAC,SAAA6C,EAAA7C,SACAC,aAAA4C,EAAA5C,aACAC,OAAA2C,EAAA3C,SAOA8C,aA5DA,WA4DA,IAAAC,EAAAnC,KACAA,KAAAoC,MAAAC,SAAAC,SAAA,SAAAC,GACA,IAAAA,EAwBA,SAvBAJ,EAAA5C,UAUY8B,EAAA,EAAZ3C,SAAA8D,KACAR,GAAAG,EAAA5C,WACA4C,EAAAnD,WACAsC,KAAA,SAAAmB,GACAN,EAAAO,UACAC,KAAA,UACAjD,QAAA,SAEAyC,EAAAlC,UACAkC,EAAApD,SAAA,IAlBYsC,EAAA,EAAZzC,YAAAuD,EAAAnD,UAAAsC,KAAA,SAAAmB,GACAN,EAAAO,UACAC,KAAA,UACAjD,QAAA,SAEAyC,EAAAlC,UACAkC,EAAApD,SAAA,OAoBA6D,aA1FA,WA2FA5C,KAAAjB,SAAA,GAOA8D,WAlGA,SAkGAb,GAAA,IAAAc,EAAA9C,KACAA,KAAA+C,SAAA,iBACAC,kBAAA,KACAC,iBAAA,KACAN,KAAA,YAEArB,KAAA,WACQD,EAAA,EAAR1C,aACAuE,SAAAlB,IACAV,KAAA,SAAAmB,GACAK,EAAAJ,UACAC,KAAA,UACAjD,QAAA,SAEAoD,EAAA7C,cAGAkD,MAAA,WACAL,EAAAJ,UACAC,KAAA,OACAjD,QAAA,uCC7OA0D,EAAgBC,OAAAC,EAAA,EAAAD,CACdxE,EHTF,WAA0B,IAAA0E,EAAAvD,KAAawD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,aAAkBG,OAAOC,MAAA,OAAAC,QAAAR,EAAAxE,QAAAiF,MAAA,QAAAC,wBAAA,GAAkFC,IAAKC,iBAAA,SAAAC,GAAkCb,EAAAxE,QAAAqF,MAAqBV,EAAA,WAAgBW,IAAA,WAAAR,OAAsBS,MAAAf,EAAAvE,SAAAQ,MAAA+D,EAAA/D,MAAA+E,cAAA,WAA8Db,EAAA,gBAAqBG,OAAOW,MAAA,QAAAC,KAAA,cAAmCf,EAAA,YAAiBE,YAAA,cAAAc,aAAuCV,MAAA,SAAgBH,OAAQc,UAAA,GAAAC,SAAA,GAAAC,YAAA,YAAsDP,OAAQtD,MAAAuC,EAAAvE,SAAA,SAAA8F,SAAA,SAAAC,GAAuDxB,EAAAyB,KAAAzB,EAAAvE,SAAA,WAAA+F,IAAwCE,WAAA,wBAAiC,GAAA1B,EAAA2B,GAAA,KAAAxB,EAAA,gBAAqCG,OAAOW,MAAA,UAAAC,KAAA,cAAqCf,EAAA,kBAAuBQ,IAAIiB,OAAA5B,EAAAnD,YAAwBkE,OAAQtD,MAAAuC,EAAAvE,SAAA,SAAA8F,SAAA,SAAAC,GAAuDxB,EAAAyB,KAAAzB,EAAAvE,SAAA,WAAA+F,IAAwCE,WAAA,uBAAiCvB,EAAA,YAAiBG,OAAOW,MAAA,KAAWjB,EAAA2B,GAAA,SAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,YAA6CG,OAAOW,MAAA,KAAWjB,EAAA2B,GAAA,aAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,YAAiDG,OAAOW,MAAA,KAAWjB,EAAA2B,GAAA,iBAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,gBAAyDG,OAAOW,MAAA,WAAAC,KAAA,YAAoCf,EAAA,aAAkBG,OAAOgB,YAAA,OAAoBP,OAAQtD,MAAAuC,EAAAvE,SAAA,OAAA8F,SAAA,SAAAC,GAAqDxB,EAAAyB,KAAAzB,EAAAvE,SAAA,SAAA+F,IAAsCE,WAAA,oBAA+B1B,EAAA6B,GAAA7B,EAAA,iBAAA8B,GAAqC,OAAA3B,EAAA,aAAuB4B,IAAAD,EAAArD,GAAA6B,OAAmBW,MAAAa,EAAAE,SAAAvE,MAAAqE,EAAArD,UAAyC,GAAAuB,EAAA2B,GAAA,KAAAxB,EAAA,gBAAsCG,OAAOW,MAAA,QAAAC,KAAA,kBAAuCf,EAAA,YAAiBG,OAAOW,MAAA,GAAUF,OAAQtD,MAAAuC,EAAAvE,SAAA,aAAA8F,SAAA,SAAAC,GAA2DxB,EAAAyB,KAAAzB,EAAAvE,SAAA,eAAA+F,IAA4CE,WAAA,2BAAqC1B,EAAA2B,GAAA,QAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,YAA4CG,OAAOW,MAAA,GAAUF,OAAQtD,MAAAuC,EAAAvE,SAAA,aAAA8F,SAAA,SAAAC,GAA2DxB,EAAAyB,KAAAzB,EAAAvE,SAAA,eAAA+F,IAA4CE,WAAA,2BAAqC1B,EAAA2B,GAAA,gBAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,QAAgDG,OAAO2B,KAAA,UAAgBA,KAAA,WAAe9B,EAAA,aAAkBG,OAAOlB,KAAA,WAAiBuB,IAAKuB,MAAAlC,EAAArB,gBAA0BqB,EAAA2B,GAAA,QAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,aAA6CG,OAAOlB,KAAA,IAAUuB,IAAKuB,MAAAlC,EAAAX,gBAA0BW,EAAA2B,GAAA,gBAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,OAA+CE,YAAA,qBAA+BF,EAAA,aAAkBE,YAAA,cAAAC,OAAiClB,KAAA,UAAA+C,KAAA,gBAAuCxB,IAAKuB,MAAA,SAAArB,GAAyBb,EAAAzB,YAAgB7C,SAAA,EAAAE,aAAA,QAA8BoE,EAAA2B,GAAA,cAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,YAAkDiC,aAAa7G,KAAA,UAAA8G,QAAA,YAAA5E,MAAAuC,EAAA,YAAA0B,WAAA,gBAAoFP,aAAeV,MAAA,QAAeH,OAAQ9F,KAAAwF,EAAAjE,SAAAuG,QAAA,EAAAC,OAAA,GAAAC,IAAA,GAAAC,wBAAA,MAAmFtC,EAAA,mBAAwBG,OAAOW,MAAA,QAAAC,KAAA,WAAAwB,MAAA,YAAoD1C,EAAA2B,GAAA,KAAAxB,EAAA,mBAAoCG,OAAOW,MAAA,UAAAC,KAAA,WAAAwB,MAAA,UAAqDC,YAAA3C,EAAA4C,KAAsBb,IAAA,UAAAc,GAAA,SAAAC,GAAiC,OAAA3C,EAAA,UAAqBG,OAAOlB,KAAA,UAAeY,EAAA2B,GAAA3B,EAAA+C,GAAA,GAAAD,EAAAtE,IAAA9C,SAAA,SAAAoH,EAAAtE,IAAA9C,SAAA,2BAA2FsE,EAAA2B,GAAA,KAAAxB,EAAA,mBAAoCG,OAAOW,MAAA,WAAAC,KAAA,WAAAwB,MAAA,YAAuD1C,EAAA2B,GAAA,KAAAxB,EAAA,mBAAoCG,OAAOW,MAAA,QAAAC,KAAA,eAAAwB,MAAA,UAAuDC,YAAA3C,EAAA4C,KAAsBb,IAAA,UAAAc,GAAA,SAAAC,GAAiC,OAAA3C,EAAA,UAAqBG,OAAOlB,KAAA,GAAA0D,EAAAtE,IAAA5C,aAAA,uBAAsDoE,EAAA2B,GAAA3B,EAAA+C,GAAA,GAAAD,EAAAtE,IAAA5C,aAAA,qBAA6DoE,EAAA2B,GAAA,KAAAxB,EAAA,mBAAoCG,OAAOG,MAAA,MAAAQ,MAAA,KAAAC,KAAA,GAAAwB,MAAA,UAAsDC,YAAA3C,EAAA4C,KAAsBb,IAAA,UAAAc,GAAA,SAAAC,GAAiC,OAAA3C,EAAA,aAAwBG,OAAOlB,KAAA,UAAA4D,KAAA,QAA+BrC,IAAKuB,MAAA,SAAArB,GAAyBb,EAAAzB,WAAAuE,EAAAtE,SAA4BwB,EAAA2B,GAAA,QAAA3B,EAAA2B,GAAA,KAAAxB,EAAA,aAA6CG,OAAOlB,KAAA,UAAA4D,KAAA,QAA+BrC,IAAKuB,MAAA,SAAArB,GAAyBb,EAAAV,WAAAwD,EAAAtE,IAAAC,QAA+BuB,EAAA2B,GAAA,gBAAsB,YGYj6H,EACA,KACA,WACA,MAIA9B,EAAAvD,QAAA2G,OAAA,mBACe/I,EAAA,QAAA2F","file":"static/js/chunk-413c.d01b77e0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-2!../../../node_modules/sass-loader/lib/loader.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=style&index=0&id=7c470b60&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-2!../../../node_modules/sass-loader/lib/loader.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=style&index=0&id=7c470b60&lang=scss&scoped=true&\"","import fetchobj from '@/utils/fetch'\nlet fetch = fetchobj.fetch;\n\nexport const Transform = {\n  uploadUrl: 'http://192.168.5.245:9015/XHDataCenter/api/v1/resource/upload/25/35',\n\n  getuuid(data) {\n    return fetch('get', 'http://xuehai.whytouch.com/wys.php', data)\n  },\n\n  getuuid1(data) {\n    return fetch('get', 'http://xuehai1.whytouch.com/wys.php', data)\n  },\n\n  getuuid2(data) {\n    return fetch('get', 'http://xuehai2.whytouch.com/wys.php', data)\n  },\n\n  getzip: 'http://xuehai.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=',\n\n  getzip1: 'http://xuehai1.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=',\n\n  getzip2: 'http://xuehai2.whytouch.com/exportfull2.php?token=a64fcbafdf6bada44fe1d441a46feae1&id=',\n\n  // 节点管理\n\n  // 获取节点\n  getNodeList(data) {\n    return fetch('get', '/api/v1/console/selectNode', data)\n  },\n  // 编辑节点\n  putNodeList(data) {\n    return fetch('post', '/api/v1/console/editNode', data)\n  },\n  // 删除节点\n  deleteNodeList(data) {\n    return fetch('delete', '/api/v1/console/delNode', data)\n  },\n  // 创建节点\n  createNodeList(data) {\n    return fetch('post', '/api/v1/console/addNode', data)\n  },\n\n  // 获取节点\n  getRules(data) {\n    return fetch('get', '/api/v1/console/selectCustom', data)\n  },\n  // 编辑节点\n  putRules(data) {\n    return fetch('post', '/api/v1/console/editCustom', data)\n  },\n  // 删除节点\n  deleteRules(data) {\n    return fetch('delete', '/api/v1/console/delCustom', data)\n  },\n  // 创建节点\n  createRules(data) {\n    return fetch('post', '/api/v1/console/addCustom', data)\n  },\n  \n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-dialog',{attrs:{\"title\":\"规则管理\",\"visible\":_vm.addShow,\"width\":\"700px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addShow=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.editData,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"自定义编号\",\"prop\":\"customNo\"}},[_c('el-input',{staticClass:\"dialog_pram\",staticStyle:{\"width\":\"100px\"},attrs:{\"clearable\":\"\",\"disabled\":\"\",\"placeholder\":\"请输入自定义编号\"},model:{value:(_vm.editData.customNo),callback:function ($$v) {_vm.$set(_vm.editData, \"customNo\", $$v)},expression:\"editData.customNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义转换类型\",\"prop\":\"nodeType\"}},[_c('el-radio-group',{on:{\"change\":_vm.changeType},model:{value:(_vm.editData.nodeType),callback:function ($$v) {_vm.$set(_vm.editData, \"nodeType\", $$v)},expression:\"editData.nodeType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"微演示\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"iSpring\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"SDK\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义转换服务器\",\"prop\":\"nodeId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.editData.nodeId),callback:function ($$v) {_vm.$set(_vm.editData, \"nodeId\", $$v)},expression:\"editData.nodeId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.nodeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自定义状态\",\"prop\":\"customStatus\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.editData.customStatus),callback:function ($$v) {_vm.$set(_vm.editData, \"customStatus\", $$v)},expression:\"editData.customStatus\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.editData.customStatus),callback:function ($$v) {_vm.$set(_vm.editData, \"customStatus\", $$v)},expression:\"editData.customStatus\"}},[_vm._v(\"禁用\")])],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"\"},on:{\"click\":_vm.cancelUpload}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"filter-container\"},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.updateData({nodeType:1,customStatus:1})}}},[_vm._v(\"新增规则\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"stripe\":true,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"自定义编号\",\"prop\":\"customNo\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义转换类型\",\"prop\":\"nodeType\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.nodeType==1?'微演示':scope.row.nodeType==2?'iSpring':'SDK'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义转换服务器\",\"prop\":\"nodeName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自定义状态\",\"prop\":\"customStatus\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.customStatus==0?'warning':'success'}},[_vm._v(_vm._s(scope.row.customStatus==0?'禁用':'启用'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"150\",\"label\":\"操作\",\"prop\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.updateData(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.deleteData(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rulesControl.vue?vue&type=script&lang=js&\"","<style lang=\"scss\" scoped>\n.dialog_pram {\n  margin-bottom: 10px;\n  display: block;\n}\n</style>\n\n<template>\n  <div class=\"app-container\">\n    <el-dialog title=\"规则管理\" :visible.sync=\"addShow\" width=\"700px\" :close-on-click-modal=\"false\">\n      <el-form ref=\"ruleForm\" :model=\"editData\" :rules=\"rules\" label-width=\"150px\">\n        <el-form-item label=\"自定义编号\" prop=\"customNo\">\n          <el-input\n            clearable\n            disabled\n            style=\"width:100px\"\n            class=\"dialog_pram\"\n            placeholder=\"请输入自定义编号\"\n            v-model=\"editData.customNo\"\n          />\n        </el-form-item>\n        <el-form-item label=\"自定义转换类型\" prop=\"nodeType\">\n          <el-radio-group v-model=\"editData.nodeType\" @change=\"changeType\">\n            <el-radio :label=\"1\">微演示</el-radio>\n            <el-radio :label=\"2\">iSpring</el-radio>\n            <el-radio :label=\"3\">SDK</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"自定义转换服务器\" prop=\"nodeId\">\n          <el-select v-model=\"editData.nodeId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.id\"\n              :label=\"item.nodeName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"自定义状态\" prop=\"customStatus\">\n          <el-radio v-model=\"editData.customStatus\" :label=\"1\">启用</el-radio>\n          <el-radio v-model=\"editData.customStatus\" :label=\"0\">禁用</el-radio>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button type=\"primary\" @click=\"submitUpload\">确定</el-button>\n        <el-button type @click=\"cancelUpload\">取消</el-button>\n      </span>\n    </el-dialog>\n    <div class=\"filter-container\">\n      <el-button\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-edit\"\n        @click=\"updateData({nodeType:1,customStatus:1})\"\n      >新增规则</el-button>\n    </div>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"dataList\"\n      :stripe=\"true\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column label=\"自定义编号\" prop=\"customNo\" align=\"center\"/>\n      <el-table-column label=\"自定义转换类型\" prop=\"nodeType\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"info\">{{scope.row.nodeType==1?'微演示':scope.row.nodeType==2?'iSpring':'SDK'}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"自定义转换服务器\" prop=\"nodeName\" align=\"center\"/>\n      <el-table-column label=\"自定义状态\" prop=\"customStatus\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row.customStatus==0?'warning':'success'\"\n          >{{ scope.row.customStatus==0?'禁用':'启用' }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"150\" label=\"操作\" prop align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"updateData(scope.row)\">修改</el-button>\n          <el-button type=\"warning\" size=\"mini\" @click=\"deleteData(scope.row.id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { Transform } from \"@/api/transform\";\nexport default {\n  name: \"nodeControl\",\n  data() {\n    return {\n      addShow: false, //是否显示弹出框\n      // 编辑参数\n      editData: {\n        nodeType: null,\n        customNo: \"\",\n        customStatus: 0, //0禁用  1启用\n        nodeId: null //1微演示  2    3:sdk\n      },\n      listLoading: false,\n      dataList: [],\n      currentId: \"\",\n      rules: {\n        nodeType: [\n          { required: true, message: \"自定义转换类型\", trigger: \"change\" }\n        ],\n        customNo: [\n          { required: true, message: \"自定义编号\", trigger: \"change\" }\n        ],\n        customStatus: [\n          { required: true, message: \"自定义状态\", trigger: \"change\" }\n        ]\n      },\n      serverList: [],\n      options: [],\n      sortlist: []\n    };\n  },\n  created() {\n    this.getList();\n    this.getServer();\n  },\n  methods: {\n    changeType(val) {\n      this.editData.nodeId = null;\n      this.options = [];\n      for (const iterator of this.serverList) {\n        if (iterator.nodeType == val) {\n          this.options.push(iterator);\n        }\n      }\n    },\n    /**\n     * @description 获取初始化数据\n     * @function getList\n     * @return {type} {description}\n     */\n    getList() {\n      this.listLoading = true;\n      Transform.getRules().then(response => {\n        this.dataList = response.data;\n        for (const iterator of this.dataList) {\n          this.sortlist.push(iterator.customNo);\n        }\n        this.listLoading = false;\n      });\n    },\n    /**\n     * @description 获取服务器列表\n     * @function getServer\n     * @return {type} {description}\n     */\n    getServer() {\n      Transform.getNodeList().then(response => {\n        this.serverList = response.data;\n      });\n    },\n    /**\n     * @description 新增或者更新数据\n     * @function {updateData\n     * @return {type} {description}\n     */\n    updateData(row) {\n      this.changeType(row.nodeType);\n      this.currentId = row.id || null;\n      row.customNo =\n        row.customNo ||\n        (this.sortlist.length > 0\n          ? this.sortlist[this.sortlist.length - 1] + 1\n          : 1);\n      this.addShow = true;\n      this.editData = {\n        nodeType: row.nodeType,\n        customNo: row.customNo,\n        customStatus: row.customStatus, //0禁用  1启用\n        nodeId: row.nodeId //1微演示  2    3:sdk\n      };\n    },\n    /**\n     * @function submitUpload\n     * @return {type} {description}\n     */\n    submitUpload() {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          if (!this.currentId) {\n            Transform.createRules(this.editData).then(res => {\n              this.$message({\n                type: \"success\",\n                message: \"成功新增\"\n              });\n              this.getList();\n              this.addShow = false;\n            });\n          } else {\n            Transform.putRules({\n              id: this.currentId,\n              ...this.editData\n            }).then(res => {\n              this.$message({\n                type: \"success\",\n                message: \"成功更新\"\n              });\n              this.getList();\n              this.addShow = false;\n            });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    cancelUpload() {\n      this.addShow = false;\n    },\n    /**\n     * @description 删除版本\n     * @function deleteData\n     * @return {type} {description}\n     */\n    deleteData(id) {\n      this.$confirm(\"确定删除该节点?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          Transform.deleteRules({\n            customId: id\n          }).then(res => {\n            this.$message({\n              type: \"success\",\n              message: \"成功删除\"\n            });\n            this.getList();\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n    }\n  }\n};\n</script>\n","import { render, staticRenderFns } from \"./rulesControl.vue?vue&type=template&id=7c470b60&scoped=true&\"\nimport script from \"./rulesControl.vue?vue&type=script&lang=js&\"\nexport * from \"./rulesControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rulesControl.vue?vue&type=style&index=0&id=7c470b60&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c470b60\",\n  null\n  \n)\n\ncomponent.options.__file = \"rulesControl.vue\"\nexport default component.exports"],"sourceRoot":""}